Vue.js3的设计思路

3.1 声明式地描述UI

        Vue.js3是一个声明式的框架，也就是使用声明式地描述UI的，设计声明式框架前先了解下编写前端
    页面设计哪些内容：

        1. DOM元素： 例如div标签、a标签等元素标签。
        2. 属性： 例如a标签上的href、标签上的id、class等。
        3. 事件： 例如click、keydown等。
        4. 元素的层级结构： DOM树的层级结构、既有子节点又有父节点。

        Vue.js3描述上述内容的方案是：

        1. 使用与HTML标签一致的方式描述DOM元素：如描述div标签直接<div></div>。
        2. 使用与HTML标签一致的方式描述标签的属性： 如div标签中的id<div id='div'></div>。
        3. 使用v-bind或:描述动态绑定属性： 如div标签中的动态id<div :id='div'></div>或
            <div v-bind:id='div'></div>。
        4. 使用v-on或@来描述事件：例如描述点击事件<div @click='handler'></div>或
            <div v-on:click='handler'></div>。
        5. 使用与HTML标签一致的方式描述层级结构： 如div包含一个span子节点<div><span></span></div>。

        从上述中知道在Vue中DOM元素、属性、事件等都有相应的描述方式，不需要用户手写命令式代码，这
    就是声明式地描述UI

        除了使用上述地模板(组件中的<template>写法)来声明式地描述UI外，还可以使用JS对象描述，将
    <div v-on:click='handler'><span></span></div>用JS对象描述如：

        1. const title = {
        2.     // 标签名称
        3.     tag: 'h1',
        4.     // 标签属性
        5.     props: {
        6.         onClick: handler
        7.     },
        8.     // 子节点
        9.     children: {
        10.        {tag: 'span'}
        11.    }
        12. }

        使用JS对象描述UI的好处就是更灵活，假如描述一个h1-h6的标标签，用JS对象描述如：

        1. //h标签的等级
        2. let level = 3
        3. const title = {
        4.     tag: `h${level}`
        5. }

        使用JS对象描述可以更改level来改变h标签。

        使用模板描述就需要依次手HTML代码如：
        1. <h1 v-if="level === 1"></h1>
        2. <h2 v-else-if="level === 2"></h2>
        3. <h3 v-else-if="level === 3"></h3>
        4. <h4 v-else-if="level === 4"></h4>
        5. <h5 v-else-if="level === 5"></h5>
        6. <h6 v-else-if="level === 6"></h6>

        可以看到模板描述远不如JS对象描述灵活，使用JS对象描述，就是所谓的虚拟DOM，也就是因为虚拟
    DOM的灵活性，Vue除了支持模板描述UI外，同时也支持虚拟DOM描述UI。

        平时组件中手写的渲染函数就是使用虚拟DOM描述UI，如下代码：

        1. import { h } from 'vue'
        2. export default {
        3.     render() {
        4.         return h('h1', {onClick: handler}) //虚拟DOM
        5.     }
        6. }

        上述的h函数是辅助创建虚拟DOM的一个工具函数，调用后会返回一个对象，这个对象就是虚拟DOM，
    上述的render函数也成为渲染函数，在Vue中也有render函数，Vue根据函数返回的值拿到虚拟DOM，然
    后将组件内容渲染出来。